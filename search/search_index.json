{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Onomastic Intelligence Utility","text":"<p>A powerful, AI-driven utility for analyzing names to determine their origin, ethnicity, gender, meaning, and cultural background. Built with DSPy and Ollama.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Deep Analysis: Extracts literal meaning, original script, ethnic background, geography, and gender.</li> <li>Name Breakdown: Automatically parses First, Middle, and Last names.</li> <li>Interactive TUI: A beautiful terminal interface powered by <code>rich</code>.</li> <li>CLI Mode: JSON output for pipeline integration.</li> <li>Library Support: Use <code>NameAnalyzer</code> directly in your Python projects.</li> </ul>"},{"location":"#prerequisites","title":"Prerequisites","text":"<ol> <li>Python 3.13+</li> <li>uv (recommended for dependency management)</li> <li>Ollama running locally with the <code>gpt-oss:120b-cloud</code> model (or configure your own in <code>analyzer.py</code>).</li> </ol>"},{"location":"#setup","title":"Setup","text":"<ol> <li> <p>Clone the repository:     <code>bash     git clone https://github.com/yourusername/whatsurname.git     cd whatsurname</code></p> </li> <li> <p>Install dependencies:     <code>bash     uv sync</code></p> </li> <li> <p>Configure Environment:     Create a <code>.env</code> file in the root directory with your Ollama API key (if required) or configuration:     <code>env     OLLAMA_API=your_api_key_here</code></p> </li> </ol>"},{"location":"#usage","title":"Usage","text":""},{"location":"#1-interactive-tui-recommended","title":"1. Interactive TUI (Recommended)","text":"<p>Launch the interactive text user interface:</p> <pre><code>uv run whatsurname\n</code></pre> <p>Or via python module:</p> <pre><code>uv run python -m whatsurname.main\n</code></pre> <p>Commands within TUI: -   Type a name and press Enter to analyze. -   Type <code>quit</code> or <code>exit</code> to close.</p>"},{"location":"#2-cli-mode-json-output","title":"2. CLI Mode (JSON Output)","text":"<p>For integration with other tools, use the CLI mode to get JSON output:</p> <pre><code>uv run whatsurname analyze \"Tsz Ho Wong\" --json_output\n</code></pre> <p>Example Output:</p> <pre><code>{\n  \"name\": \"Tsz Ho Wong\",\n  \"first_name\": \"Tsz Ho\",\n  \"middle_name\": \"\",\n  \"last_name\": \"Wong\",\n  \"meaning\": \"Great aspiration (\u5fd7\u6d69)\",\n  \"script\": \"\u9ec3\u5fd7\u6d69\",\n  \"ethnicity\": \"Cantonese (Hong Kong)\",\n  \"geography\": \"Hong Kong\",\n  \"gender\": \"Masculine\",\n  \"confidence\": 0.85,\n  \"reasoning\": \"...\"\n}\n</code></pre>"},{"location":"#3-library-usage","title":"3. Library Usage","text":"<p>You can use the <code>NameAnalyzer</code> class directly in your own Python scripts:</p> <pre><code>from whatsurname import NameAnalyzer\n\n# Initialize\nanalyzer = NameAnalyzer()\n\n# Analyze a name\nresult = analyzer(\"Svetlana Kuznetsova\")\n\n# Access fields\nprint(f\"First Name: {result.first_name}\")\nprint(f\"Gender: {result.likely_gender}\")\nprint(f\"Origin: {result.geographic_origin}\")\n</code></pre>"},{"location":"#project-structure","title":"Project Structure","text":"<ul> <li><code>whatsurname/</code>: Main package.<ul> <li><code>analyzer.py</code>: Core DSPy logic and <code>NameAnalyzer</code> class.</li> <li><code>tui.py</code>: Interactive TUI logic (<code>rich</code>).</li> <li><code>cli.py</code>: Command-line interface logic (<code>argparse</code>).</li> <li><code>main.py</code>: Entry point dispatcher.</li> </ul> </li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>               Bases: <code>Module</code></p> <p>A DSPy module for analyzing names.</p> <p>This class uses a language model to extract information about a name, including its meaning, origin, ethnicity, and gender.</p> <p>Examples:</p> <pre><code>from whatsurname import NameAnalyzer\n\nanalyzer = NameAnalyzer()\nresult = analyzer(\"Svetlana Kuznetsova\")\nprint(result.first_name)  # Output: Svetlana\nprint(result.geographic_origin)  # Output: Russia\n</code></pre> Source code in <code>whatsurname/analyzer.py</code> <pre><code>class NameAnalyzer(dspy.Module):\n    \"\"\"\n    A DSPy module for analyzing names.\n\n    This class uses a language model to extract information about a name,\n    including its meaning, origin, ethnicity, and gender.\n\n    Examples:\n        ```python\n        from whatsurname import NameAnalyzer\n\n        analyzer = NameAnalyzer()\n        result = analyzer(\"Svetlana Kuznetsova\")\n        print(result.first_name)  # Output: Svetlana\n        print(result.geographic_origin)  # Output: Russia\n        ```\n    \"\"\"\n    def __init__(self, model_name='ollama_chat/gpt-oss:120b-cloud', api_base='http://localhost:11434'):\n        super().__init__()\n        self.api_key = os.getenv(\"OLLAMA_API\")\n        self.lm = dspy.LM(model_name, api_base=api_base, api_key=self.api_key)\n        dspy.configure(lm=self.lm)\n        self.predictor = dspy.ChainOfThought(OnomasticAnalyzerSignature)\n\n    def __call__(self, name: str):\n        return self.predictor(name=name)\n</code></pre>"}]}